var VueSidebarMenu=function(e,t){"use strict";var n=t.ref(!1),o=t.ref(null),i=t.ref(null),r=t.reactive({top:0,height:0}),l=t.reactive({width:0,height:0,top:0,left:0}),a=t.ref(null),c=t.ref(window.location.pathname+window.location.search+window.location.hash);function u(e,u){var s=t.computed((function(){return n.value?e.widthCollapsed:e.width})),d=t.computed((function(){return[n.value?"vsm_collapsed":"vsm_expanded",e.theme?"vsm_".concat(e.theme):"",e.rtl?"vsm_rtl":"",e.relative?"vsm_relative":""]})),m=t.computed((function(){return[{position:"absolute"},{top:"".concat(r.top,"px")},e.rtl?{right:"0px"}:{left:"0px"},e.rtl?{"padding-right":s.value}:{"padding-left":s.value},e.rtl&&{direction:"rtl"},{"z-index":0},{width:"".concat(l.width-l.left,"px")},{"max-width":e.width}]})),p=t.computed((function(){return[{position:"absolute"},{top:"".concat(r.height,"px")},{width:"100%"},{"max-height":"".concat(l.height-(r.top+r.height)-l.top,"px")},{"overflow-y":"auto"}]})),v=t.computed((function(){return[{position:"absolute"},{top:"0px"},{left:"0px"},{right:"0px"},{width:"100%"},{height:"".concat(r.height,"px")},{"z-index":-1}]})),f=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:800;i.value&&(a.value&&clearTimeout(a.value),e?i.value=null:a.value=setTimeout((function(){i.value=null}),t))},h=function(){var t=o.value,n=t.getBoundingClientRect(),i=n.top,r=n.left,a=n.right,c=e.relative?t.parentElement:document.documentElement;if(l.height=c.clientHeight,l.width=c.clientWidth,e.relative){var u=c.getBoundingClientRect(),s=u.top,d=u.left;l.top=i-(s+c.clientTop),l.left=e.rtl?l.width-a+(d+c.clientLeft):r-(d+c.clientLeft)}else l.top=i,l.left=e.rtl?l.width-a:r};return{sidebarMenuRef:o,isCollapsed:n,sidebarWidth:s,sidebarClass:d,currentRoute:c,onMouseLeave:function(){f(!1,300)},onMouseEnter:function(){n.value&&a.value&&clearTimeout(a.value)},onToggleClick:function(){f(),n.value=!n.value,u.emit("update:collapsed",n.value)},onItemClick:function(e,t){u.emit("item-click",e,t)},onRouteChange:function(){c.value=window.location.pathname+window.location.search+window.location.hash},mobileItem:i,mobileItemStyle:m,mobileItemDropdownStyle:p,mobileItemBackgroundStyle:v,setMobileItem:function(e){var t=e.item,n=e.itemEl;if(i.value!==t){var l=o.value.getBoundingClientRect().top,a=n.children[0].getBoundingClientRect(),c=a.top,u=a.height;h(),i.value=t,r.top=c-l,r.height=u}},unsetMobileItem:f,mobileItemTimeout:a}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function m(e,t){var n=e.matched,o=n.length,i=n[o-1],r=t.matched;if(!i||!r.length)return-1;var l=r.findIndex(v.bind(null,i));if(l>-1)return l;var a=p(n[o-2]);return o>1&&p(i)===a&&r[r.length-1].path!==a?r.findIndex(v.bind(null,n[o-2])):l}function p(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}function v(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function f(e,t){return Array.isArray(e)?h(e,t):Array.isArray(t)?h(t,e):e===t}function h(e,t){return Array.isArray(t)?e.length===t.length&&e.every((function(e,n){return e===t[n]})):1===e.length&&e[0]===t}var b=t.ref(null);function g(e){var n=t.getCurrentInstance().appContext.config.globalProperties.$router,o=t.inject("vsm-props"),i=t.inject("emitItemClick"),r=u(o),l=r.isCollapsed,a=r.mobileItem,c=r.setMobileItem,p=r.unsetMobileItem,v=r.currentRoute,h=t.ref(!1),g=t.ref(!1),k=t.computed((function(){return y(e.item)||w(e.item.child)})),C=t.computed((function(){return y(e.item)})),y=function(e){if(!e.href||e.external)return!1;if(n){var t=n.resolve(e.href),o=n.currentRoute.value;return m(t,o)>-1&&m(t,o)===o.matched.length-1&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(!f(e[n],t[n]))return!1;return!0}(o.params,t.params)}return e.href===v.value},w=function e(t){return!!t&&t.some((function(t){return y(t)||e(t.child)}))},B=function(t,n){x.value||l.value&&I.value&&!e.isMobileItem&&(p(),setTimeout((function(){a.value!==e.item&&c({item:e.item,itemEl:n}),"click"!==t.type||O.value||p(!1)}),0))},M=t.computed({get:function(){return!!O.value&&(!(!o.showChild&&!e.isMobileItem)||(o.showOneChild&&I.value?e.item===b.value:h.value))},set:function(t){o.showOneChild&&I.value&&(b.value=t?e.item:null),h.value=t}}),x=t.computed((function(){return l.value&&I.value?e.item===a.value:g.value})),I=t.computed((function(){return 1===e.level})),S=t.computed((function(){return l.value?!(!e.item.hidden||void 0!==e.item.hiddenOnCollapse)||!0===e.item.hiddenOnCollapse:!0===e.item.hidden})),O=t.computed((function(){return!!(e.item.child&&e.item.child.length>0)})),_=t.computed((function(){return["vsm--link",e.isMobileItem?"":"vsm--link_level-".concat(e.level),{"vsm--link_mobile":e.isMobileItem},{"vsm--link_hover":x.value},{"vsm--link_active":k.value},{"vsm--link_disabled":e.item.disabled},{"vsm--link_open":M.value},e.item.class]})),E=t.computed((function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({href:e.item.href?e.item.href:"#",target:e.item.external?"_blank":"_self",tabindex:e.item.disabled?-1:null,"aria-current":C.value?"page":null},e.item.attributes)})),L=t.computed((function(){return["vsm--item",{"vsm--item_mobile":e.isMobileItem}]}));return{active:k,exactActive:C,activeShow:b,show:M,hover:x,isFirstLevel:I,isHidden:S,hasChild:O,linkClass:_,linkAttrs:E,itemClass:L,onRouteChange:function(){o.showChild||e.isMobileItem||k.value&&(M.value=!0)},onLinkClick:function(t){(e.item.href&&!e.item.disabled||(t.preventDefault(),!e.item.disabled))&&(B(t,t.currentTarget.offsetParent),!O.value&&o.showChild&&e.isMobileItem||e.item.href&&!C.value||(M.value=!M.value),i(t,e.item))},onMouseOver:function(t){e.item.disabled||(t.stopPropagation(),g.value=!0,o.disableHover||B(t,t.currentTarget))},onMouseOut:function(e){e.stopPropagation(),g.value=!1},onExpandEnter:function(e){e.style.height=e.scrollHeight+"px"},onExpandAfterEnter:function(e){e.style.height="auto"},onExpandBeforeLeave:function(e){l.value&&I.value?e.style.display="none":e.style.height=e.scrollHeight+"px"}}}var k={inheritAttrs:!1,name:"SidebarMenuLink",props:{item:{type:Object,required:!0}},computed:{isHyperLink:function(){return!(this.item.href&&!this.item.external)}}};k.render=function(e,n,o,i,r,l){var a=t.resolveComponent("router-link");return l.isHyperLink?(t.openBlock(),t.createBlock("a",t.mergeProps({key:0},e.$attrs),[t.renderSlot(e.$slots,"default")],16)):(t.openBlock(),t.createBlock(a,{key:1,custom:"",to:o.item.href},{default:t.withCtx((function(n){var o=n.href,i=n.navigate;return[t.createVNode("a",t.mergeProps(e.$attrs,{href:o,onClick:i}),[t.renderSlot(e.$slots,"default")],16,["href","onClick"])]})),_:3},8,["to"]))},k.__file="src/components/SidebarMenuLink.vue";var C={name:"SidebarMenuIcon",props:{icon:{type:[String,Object],default:""}}};C.render=function(e,n,o,i,r,l){return t.openBlock(),t.createBlock(t.resolveDynamicComponent(o.icon.element?o.icon.element:"i"),t.mergeProps({class:["vsm--icon","string"==typeof o.icon||o.icon instanceof String?o.icon:o.icon.class]},o.icon.attributes),{default:t.withCtx((function(){return[t.createTextVNode(t.toDisplayString(o.icon.text),1)]})),_:1},16,["class"])},C.__file="src/components/SidebarMenuIcon.vue";var y={name:"SidebarMenuBadge",props:{badge:{type:Object,default:function(){}}}};y.render=function(e,n,o,i,r,l){return t.openBlock(),t.createBlock(t.resolveDynamicComponent(o.badge.element?o.badge.element:"span"),t.mergeProps({class:["vsm--badge",o.badge.class]},o.badge.attributes),{default:t.withCtx((function(){return[t.createTextVNode(t.toDisplayString(o.badge.text),1)]})),_:1},16,["class"])},y.__file="src/components/SidebarMenuBadge.vue";var w={name:"SidebarMenuItem",components:{SidebarMenuLink:k,SidebarMenuIcon:C,SidebarMenuBadge:y},props:{item:{type:Object,required:!0},level:{type:Number,default:1},isMobileItem:{type:Boolean,default:!1}},setup:function(e){var n=t.inject("vsm-props"),o=u(n),i=o.isCollapsed,r=o.mobileItemDropdownStyle,l=o.currentRoute,a=t.toRefs(n),c=a.disableHover,s=a.linkComponentName,d=g(e),m=d.active,p=d.exactActive,v=d.show,f=d.hover,h=d.isFirstLevel,b=d.isHidden,k=d.hasChild,C=d.linkClass,y=d.linkAttrs,w=d.itemClass,B=d.onRouteChange,M=d.onLinkClick,x=d.onMouseOver,I=d.onMouseOut,S=d.onExpandEnter,O=d.onExpandAfterEnter,_=d.onExpandBeforeLeave,E=t.getCurrentInstance().appContext.config.globalProperties.$router;return E?t.watch((function(){return E.currentRoute.value}),(function(){B()}),{immediate:!0}):(t.watch((function(){return l.value}),(function(){B()}),{immediate:!0}),window.addEventListener("hashchange",B),t.onUnmounted((function(){window.removeEventListener("hashchange",B)}))),{isCollapsed:i,disableHover:c,linkComponentName:s,active:m,exactActive:p,mobileItemDropdownStyle:r,show:v,hover:f,isFirstLevel:h,isHidden:b,hasChild:k,linkClass:C,linkAttrs:y,itemClass:w,onRouteChange:B,onLinkClick:M,onMouseOver:x,onMouseOut:I,onExpandEnter:S,onExpandAfterEnter:O,onExpandBeforeLeave:_}}},B={key:0,class:"vsm--title"},M={class:"vsm--dropdown"};w.render=function(e,n,o,i,r,l){var a=t.resolveComponent("sidebar-menu-icon"),c=t.resolveComponent("sidebar-menu-badge"),u=t.resolveComponent("sidebar-menu-item");return o.item.component&&!i.isHidden?(t.openBlock(),t.createBlock(t.resolveDynamicComponent(o.item.component),t.mergeProps({key:0},o.item.props),null,16)):o.item.header&&!i.isHidden?(t.openBlock(),t.createBlock("div",t.mergeProps({key:1,class:["vsm--header",o.item.class]},o.item.attributes),t.toDisplayString(o.item.title),17)):i.isHidden?t.createCommentVNode("v-if",!0):(t.openBlock(),t.createBlock("div",{key:2,class:i.itemClass,onMouseover:n[1]||(n[1]=function(){return i.onMouseOver.apply(i,arguments)}),onMouseout:n[2]||(n[2]=function(){return i.onMouseOut.apply(i,arguments)})},[(t.openBlock(),t.createBlock(t.resolveDynamicComponent(i.linkComponentName),t.mergeProps({item:o.item,class:i.linkClass},i.linkAttrs,{onClick:i.onLinkClick}),{default:t.withCtx((function(){return[o.item.icon&&!o.isMobileItem?(t.openBlock(),t.createBlock(a,{key:0,icon:o.item.icon},null,8,["icon"])):t.createCommentVNode("v-if",!0),t.createVNode(t.Transition,{name:"fade-animation",appear:o.isMobileItem},{default:t.withCtx((function(){return[i.isCollapsed&&!i.isFirstLevel||!i.isCollapsed||o.isMobileItem?(t.openBlock(),t.createBlock("span",B,t.toDisplayString(o.item.title),1)):t.createCommentVNode("v-if",!0)]})),_:1},8,["appear"]),i.isCollapsed&&!i.isFirstLevel||!i.isCollapsed||o.isMobileItem?(t.openBlock(),t.createBlock(t.Fragment,{key:1},[o.item.badge?(t.openBlock(),t.createBlock(c,{key:0,badge:o.item.badge},null,8,["badge"])):t.createCommentVNode("v-if",!0),i.hasChild?(t.openBlock(),t.createBlock("div",{key:1,class:["vsm--arrow",{"vsm--arrow_open":i.show}]},[t.renderSlot(e.$slots,"dropdown-icon",{isOpen:i.show})],2)):t.createCommentVNode("v-if",!0)],64)):t.createCommentVNode("v-if",!0)]})),_:1},16,["item","class","onClick"])),i.hasChild?(t.openBlock(),t.createBlock(t.Fragment,{key:0},[i.isCollapsed&&!i.isFirstLevel||!i.isCollapsed||o.isMobileItem?(t.openBlock(),t.createBlock(t.Transition,{key:0,appear:o.isMobileItem,name:"expand",onEnter:i.onExpandEnter,onAfterEnter:i.onExpandAfterEnter,onBeforeLeave:i.onExpandBeforeLeave},{default:t.withCtx((function(){return[i.show?(t.openBlock(),t.createBlock("div",{key:0,class:["vsm--child",o.isMobileItem&&"vsm--child_mobile"],style:o.isMobileItem&&i.mobileItemDropdownStyle},[t.createVNode("div",M,[(t.openBlock(!0),t.createBlock(t.Fragment,null,t.renderList(o.item.child,(function(n,i){return t.openBlock(),t.createBlock(u,{key:i,item:n,level:o.level+1},{"dropdown-icon":t.withCtx((function(n){var o=n.isOpen;return[t.renderSlot(e.$slots,"dropdown-icon",{isOpen:o})]})),_:2},1032,["item","level"])})),128))])],6)):t.createCommentVNode("v-if",!0)]})),_:1},8,["appear","onEnter","onAfterEnter","onBeforeLeave"])):t.createCommentVNode("v-if",!0)],64)):t.createCommentVNode("v-if",!0)],34))},w.__file="src/components/SidebarMenuItem.vue";var x={name:"SidebarMenu",components:{SidebarMenuItem:w},props:{menu:{type:Array,required:!0},collapsed:{type:Boolean,default:!1},width:{type:String,default:"290px"},widthCollapsed:{type:String,default:"65px"},showChild:{type:Boolean,default:!1},theme:{type:String,default:""},showOneChild:{type:Boolean,default:!1},rtl:{type:Boolean,default:!1},relative:{type:Boolean,default:!1},hideToggle:{type:Boolean,default:!1},disableHover:{type:Boolean,default:!1},linkComponentName:{type:String,default:"SidebarMenuLink"}},setup:function(e,n){t.provide("vsm-props",e);var o=u(e,n),i=o.sidebarMenuRef,r=o.isCollapsed,l=o.sidebarWidth,a=o.sidebarClass,c=o.onMouseLeave,s=o.onMouseEnter,d=o.onToggleClick,m=o.onItemClick,p=o.onRouteChange,v=o.mobileItem,f=o.mobileItemStyle,h=o.mobileItemBackgroundStyle,b=o.unsetMobileItem;return t.provide("emitItemClick",m),t.provide("onRouteChange",p),r.value=e.collapsed,t.watch((function(){return e.collapsed}),(function(e){b(),r.value=e})),{sidebarMenuRef:i,isCollapsed:r,sidebarWidth:l,sidebarClass:a,onMouseLeave:c,onMouseEnter:s,onToggleClick:d,onItemClick:m,onRouteChange:p,mobileItem:v,mobileItemStyle:f,mobileItemBackgroundStyle:h}},emits:{"item-click":function(e,t){return!(!e||!t)},"update:collapsed":function(e){return!("boolean"!=typeof e)}}},I=t.createVNode("span",{class:"vsm--arrow_default"},null,-1),S=t.createVNode("span",{class:"vsm--arrow_default"},null,-1),O=t.createVNode("span",{class:"vsm--toggle-btn_default"},null,-1);x.render=function(e,n,o,i,r,l){var a=t.resolveComponent("sidebar-menu-item");return t.openBlock(),t.createBlock("div",{ref:"sidebarMenuRef",class:["v-sidebar-menu",i.sidebarClass],style:{"max-width":i.sidebarWidth},onMouseenter:n[2]||(n[2]=function(){return i.onMouseEnter.apply(i,arguments)}),onMouseleave:n[3]||(n[3]=function(){return i.onMouseLeave.apply(i,arguments)})},[t.renderSlot(e.$slots,"header"),t.createVNode("div",{class:"vsm--scroll-wrapper",style:i.isCollapsed&&[o.rtl?{"margin-left":"-17px"}:{"margin-right":"-17px"}]},[t.createVNode("div",{class:"vsm--menu",style:i.isCollapsed&&{width:o.widthCollapsed}},[(t.openBlock(!0),t.createBlock(t.Fragment,null,t.renderList(o.menu,(function(n,o){return t.openBlock(),t.createBlock(a,{key:o,item:n},{"dropdown-icon":t.withCtx((function(n){var o=n.isOpen;return[t.renderSlot(e.$slots,"dropdown-icon",{isOpen:o},(function(){return[I]}))]})),_:2},1032,["item"])})),128))],4),i.isCollapsed?(t.openBlock(),t.createBlock("div",{key:0,style:i.mobileItemStyle},[i.mobileItem?(t.openBlock(),t.createBlock(a,{key:0,item:i.mobileItem,"is-mobile-item":!0},{"dropdown-icon":t.withCtx((function(n){var o=n.isOpen;return[t.renderSlot(e.$slots,"dropdown-icon",{isOpen:o},(function(){return[S]}))]})),_:1},8,["item"])):t.createCommentVNode("v-if",!0),t.createVNode(t.Transition,{name:"slide-animation"},{default:t.withCtx((function(){return[i.mobileItem?(t.openBlock(),t.createBlock("div",{key:0,class:"vsm--mobile-bg",style:i.mobileItemBackgroundStyle},null,4)):t.createCommentVNode("v-if",!0)]})),_:1})],4)):t.createCommentVNode("v-if",!0)],4),t.renderSlot(e.$slots,"footer"),o.hideToggle?t.createCommentVNode("v-if",!0):(t.openBlock(),t.createBlock("button",{key:0,class:"vsm--toggle-btn",onClick:n[1]||(n[1]=function(){return i.onToggleClick.apply(i,arguments)})},[t.renderSlot(e.$slots,"toggle-icon",{},(function(){return[O]}))]))],38)},x.__file="src/components/SidebarMenu.vue";var _={install:function(e){e.component("sidebar-menu",x)}};return e.SidebarMenu=x,e.default=_,Object.defineProperty(e,"__esModule",{value:!0}),e}({},Vue);
//# sourceMappingURL=vue-sidebar-menu.min.js.map
